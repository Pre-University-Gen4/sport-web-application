<!DOCTYPE html>
<html lang="km">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Event Detail - Sportshub</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap');
        body {
            font-family: 'Roboto', sans-serif;
            background-color: #F5F5F5;
            color: #000249;
        }
        
        .khmer-text {
            font-family: 'Khmer OS', 'Roboto', sans-serif;
        }
        
        .custom-bg {
            background-color: #FAF9F0;
        }
        
        .custom-text {
            color: #000249;
        }
        
        .post-button {
            background-color: #007AFF;
        }
        
        .post-button:hover {
            background-color: #0056CC;
        }
        
        .category-badge {
            position: absolute;
            top: 12px;
            left: 12px;
            background-color: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(4px);
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 500;
            color: #000249;
            border: 1px solid rgba(0, 2, 73, 0.1);
            text-transform: capitalize;
        }
        
        .event-image {
            width: 100%;
            height: auto;
            min-height: 800px;
            max-height: 1000px;
            object-fit: cover;
        }
        
        .heart-circle {
            width: 40px;
            height: 40px;
            background-color: rgba(255, 255, 255, 0.9);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(4px);
        }
        
        .social-share {
            transition: all 0.3s ease;
        }
        
        .social-share:hover {
            transform: translateY(-2px);
        }
    </style>
</head>

<body>
    <!-- Header -->
    <header id="header"></header>

    <!-- Main Content -->
    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <!-- Event Details -->
        <article>
            <!-- Event Header -->
            <section class="bg-white rounded-lg shadow-sm overflow-hidden mb-6">
                <!-- Event Image -->
                <figure class="relative">
                    <img id="eventMainImage" src="https://via.placeholder.com/800x400" alt="Event Image" class="event-image">
                    <section class="absolute top-4 right-4 heart-circle">
                        <i id="mainHeartBtn" class="fas fa-heart text-gray-300 cursor-pointer text-lg hover:text-red-500 transition-colors"></i>
                    </section>
                    <aside id="categoryBadge" class="category-badge">Loading...</aside>
                </figure>

                <!-- Event Info -->
                <section class="p-6">
                    <header class="flex items-start justify-between mb-4">
                        <section>
                            <h1 id="eventTitle" class="text-3xl font-bold custom-text mb-2 khmer-text">Loading Event...</h1>
                            <section class="grid grid-cols-1 md:grid-cols-3 gap-4 text-gray-600">
                                <section class="flex items-center space-x-2">
                                    <i class="fas fa-calendar-alt text-blue-600"></i>
                                    <span id="eventDate">Loading...</span>
                                </section>
                                <section class="flex items-center space-x-2">
                                    <i class="fas fa-map-marker-alt text-blue-600"></i>
                                    <span id="eventLocation">Loading...</span>
                                </section>
                            </section>
                        </section>
                    </header>

                    <!-- Description -->
                    <section class="prose max-w-none">
                        <h3 class="text-lg font-semibold custom-text mb-3 khmer-text">អំពីព្រឹត្តិការណ៍នេះ</h3>
                        <p class="text-gray-600 mb-4" id="eventDescription">
                            Loading event description...
                        </p>
                    </section>
                </section>
                <!-- Share Event -->
                <section class=" rounded-lg shadow-sm p-6 mb-6">
                    <h3 class="text-lg font-semibold custom-text mb-4 khmer-text">ចែករំលែកព្រឹត្តិការណ៍</h3>
                    <section class="grid grid-cols-2 md:grid-cols-4 gap-3">
                        <button onclick="shareToFacebook()" class="bg-blue-600 text-white p-3 rounded-lg hover:bg-blue-700 transition-colors social-share">
                        <i class="fab fa-facebook-f mr-2"></i>
                        Facebook
                    </button>
                        <button onclick="shareToTelegram()" class="bg-sky-500 text-white p-3 rounded-lg hover:bg-sky-600 transition-colors social-share">
                        <i class="fab fa-telegram mr-2"></i>
                        Telegram
                    </button>
                        <button onclick="shareToInstagram()" class="bg-pink-500 text-white p-3 rounded-lg hover:bg-pink-600 transition-colors social-share">
                        <i class="fab fa-instagram mr-2"></i>
                        Instagram
                    </button>
                        <button onclick="copyEventLink()" class="bg-gray-600 text-white p-3 rounded-lg hover:bg-gray-700 transition-colors social-share">
                        <i class="fas fa-link mr-2"></i>
                        Copy Link
                    </button>
                    </section>
                </section>
            </section>

            <!-- Location Map -->
            <section class="bg-white rounded-lg shadow-sm p-6 mb-6">
                <h3 class="text-lg font-semibold custom-text mb-4 khmer-text">ទីតាំង</h3>
                <figure class="aspect-video rounded-lg overflow-hidden mb-4">
                    <iframe id="locationMap" src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3908.7937414488034!2d104.91444121533492!3d11.568633291834647!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x310951e96d257a6b%3A0x6b66703c5fc0c7cc!2sInstitute%20of%20Science%20and%20Technology%20Advanced%20Development!5e0!3m2!1sen!2skh!4v1642150234567!5m2!1sen!2skh"
                        width="100%" height="100%" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade">
                    </iframe>
                </figure>
                <section class="flex items-center justify-between">
                    <section class="flex items-center space-x-2 text-gray-600">
                        <i class="fas fa-map-marker-alt text-blue-600"></i>
                        <span id="mapLocation">Loading location...</span>
                    </section>
                    <button id="openMapBtn" class="text-blue-600 hover:text-blue-800 transition-colors text-sm font-medium">
                        <i class="fas fa-external-link-alt mr-1"></i>
                        Open in Maps
                    </button>
                </section>
            </section>
        </article>

        <!-- Comments Section -->
        <section class="mt-12">
            <section class="bg-white rounded-lg shadow-sm p-6">
                <h3 class="text-lg font-semibold custom-text mb-6 khmer-text">មតិយោបល់ និងសំណួរ</h3>

                <!-- Comment Form -->
                <section class="mb-6">
                    <section class="flex space-x-3">
                        <figure class="w-10 h-10 bg-gray-300 rounded-full flex items-center justify-center">
                            <i class="fas fa-user text-gray-600"></i>
                        </figure>
                        <section class="flex-1">
                            <textarea id="commentText" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500" rows="3" placeholder="Ask a question or leave a comment..."></textarea>
                            <section class="flex justify-end mt-2">
                                <button id="postCommentBtn" class="post-button text-white px-4 py-2 rounded-lg transition-colors text-sm">
                                    Post Comment
                                </button>
                            </section>
                        </section>
                    </section>
                </section>

                <!-- Existing Comments -->
                <section id="commentsContainer" class="space-y-6">
                    <!-- Comments will be generated by JavaScript -->
                </section>
            </section>
        </section>
    </main>

    <!-- Footer -->
    <footer id="footer"></footer>

    <script>
        // Sample comments data
        let commentsData = [{
            name: "សុភា ចាន់",
            avatar: "SC",
            time: "២ ម៉ោងមុន",
            comment: "ព្រឹត្តិការណ៍នេះគួរឱ្យចាប់អារម្មណ៍ណាស់! តើនៅមានកន្លែងទំនេរទេ?",
            likes: 5,
            liked: false
        }, {
            name: "វុទ្ធី រ៉ា",
            avatar: "VR",
            time: "៤ ម៉ោងមុន",
            comment: "អរគុណសម្រាប់ការរៀបចំព្រឹត្តិការណ៍ល្អបែបនេះ។ ខ្ញុំនឹងចូលរួមដោយប្រាកដ!",
            likes: 3,
            liked: false
        }, {
            name: "ស្រីមុំ កែវ",
            avatar: "SK",
            time: "៦ ម៉ោងមុន",
            comment: "តើមានការផ្សាយផ្ទាល់ទេ? សម្រាប់អ្នកដែលមិនអាចចូលរួមបាន។",
            likes: 2,
            liked: false
        }];

        // Current event data
        let currentEvent = null;
        let favoriteEvents = new Set(); // Track favorite event IDs

        // Format date to Khmer
        function formatDateToKhmer(dateStr) {
            const date = new Date(dateStr);
            const months = ['មករា', 'កុម្ភៈ', 'មីនា', 'មេសា', 'ឧសភា', 'មិថុនា',
                'កក្កដា', 'សីហា', 'កញ្ញា', 'តុលា', 'វិច្ឆិកា', 'ធ្នូ'
            ];
            return `${date.getDate()} ${months[date.getMonth()]} ${date.getFullYear()}`;
        }

        // Calculate schedule times
        function calculateScheduleTimes(eventTime) {
            const [hours, minutes] = eventTime.split(':');
            const eventDate = new Date();
            eventDate.setHours(parseInt(hours), parseInt(minutes), 0, 0);

            // Opening time (30 minutes before)
            const openingDate = new Date(eventDate.getTime() - 30 * 60000);
            const openingTime = openingDate.toLocaleTimeString('en-US', {
                hour12: false,
                hour: '2-digit',
                minute: '2-digit'
            });

            // Main event time
            const mainEventTime = eventTime;

            // Closing time (2.5 hours after start)
            const closingDate = new Date(eventDate.getTime() + 2.5 * 60 * 60000);
            const closingTime = closingDate.toLocaleTimeString('en-US', {
                hour12: false,
                hour: '2-digit',
                minute: '2-digit'
            });

            return {
                openingTime,
                mainEventTime,
                closingTime
            };
        }

        // Load event data
        function loadEventData() {
            // Try to get event data from localStorage
            const savedEventData = localStorage.getItem('selectedEventData');
            const savedFavorites = localStorage.getItem('favoriteEvents');

            if (savedEventData) {
                currentEvent = JSON.parse(savedEventData);
            }

            if (savedFavorites) {
                favoriteEvents = new Set(JSON.parse(savedFavorites));
            }

            if (!currentEvent) {
                // Fallback to sample data if no event is selected
                currentEvent = {
                    id: 1,
                    title: "ISTAD Football Championship 2025",
                    description: "This is an exciting sports event organized by ISTAD. Join us for a day filled with competition, fun activities, and great prizes. All skill levels are welcome to participate.",
                    date: "2025-03-15",
                    time: "14:00",
                    location: "ISTAD Campus, Phnom Penh",
                    locationLink: "https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3908.7937414488034!2d104.91444121533492!3d11.568633291834647!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x310951e96d257a6b%3A0x6b66703c5fc0c7cc!2sInstitute%20of%20Science%20and%20Technology%20Advanced%20Development!5e0!3m2!1sen!2skh!4v1642150234567!5m2!1sen!2skh",
                    category: "football",
                    image: "https://images.unsplash.com/photo-1431324155629-1a6deb1dec8d?w=800&h=400&fit=crop",
                    contact: "012 345 678"
                };
            }

            // Update DOM elements with event data
            document.getElementById('eventTitle').textContent = currentEvent.title;
            document.getElementById('eventDescription').textContent = currentEvent.description || 'No description available for this event.';
            document.getElementById('eventDate').textContent = formatDateToKhmer(currentEvent.date);
            document.getElementById('eventTime').textContent = currentEvent.time;
            document.getElementById('eventLocation').textContent = currentEvent.location;
            document.getElementById('mapLocation').textContent = currentEvent.location;
            document.getElementById('categoryBadge').textContent = currentEvent.category;
            document.getElementById('eventMainImage').src = currentEvent.image;
            document.getElementById('eventMainImage').alt = currentEvent.title;

            // Update contact info if available
            if (currentEvent.contact) {
                document.getElementById('eventContact').textContent = currentEvent.contact;
                document.getElementById('contactInfo').classList.remove('hidden');
            }

            // Update map if location link is provided
            if (currentEvent.locationLink && currentEvent.locationLink !== 'https://maps.google.com') {
                document.getElementById('locationMap').src = currentEvent.locationLink;
            }

            // Update heart button state
            const mainHeartBtn = document.getElementById('mainHeartBtn');
            if (favoriteEvents.has(currentEvent.id)) {
                mainHeartBtn.classList.remove('text-gray-300');
                mainHeartBtn.classList.add('text-red-500');
            }

            // Update favorite count in header
            updateFavoriteCount();

            // Calculate and update schedule times
            const scheduleTime = calculateScheduleTimes(currentEvent.time);
            document.getElementById('openingTime').textContent = `${scheduleTime.openingTime} - ${scheduleTime.mainEventTime}`;
            document.getElementById('mainEventTime').textContent = `${scheduleTime.mainEventTime} - ${scheduleTime.closingTime}`;
            document.getElementById('closingTime').textContent = `${scheduleTime.closingTime} - 30 minutes`;

            // Update page title
            document.title = `${currentEvent.title} - Sportshub`;
        }

        // Header Component
        function createHeader() {
            return `
                <section class="custom-bg shadow-sm border-b border-gray-200">
                    <section class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                        <section class="flex justify-between items-center py-4">
                            <!-- Logo -->
                            <section class="flex items-center cursor-pointer" onclick="goBackToEvents()">
                                <img src="../img-about/logo.png" alt="Logo" class="h-10">
                            </section>

                            <!-- Navigation -->
                            <nav class="hidden md:flex space-x-8">
                                <a href="../../index.html" onclick="goBackToEvents()" class="custom-text hover:text-blue-600 transition-colors font-medium">Home</a>
                                <a href="../html/event.html" onclick="goBackToEvents()" class="text-blue-600 font-medium border-b-2 border-blue-600 pb-1">Event</a>
                                <a href="../html/about.html" class="custom-text hover:text-blue-600 transition-colors font-medium">About</a>
                            </nav>

                            <!-- Right Side Icons and Button -->
                            <section class="flex items-center space-x-4">
                                <!-- Heart/Favorite Icon -->
                                <button id="headerFavoriteBtn" class="p-2 text-gray-600 hover:text-red-500 transition-colors relative">
                                    <i class="fas fa-heart text-xl"></i>
                                    <span id="headerFavoriteCount" class="absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center hidden">0</span>
                                </button>

                                <!-- Account Icon -->
                                <button class="p-2 text-gray-600 hover:text-blue-600 transition-colors">
                                    <i class="fas fa-user-circle text-xl"></i>
                                </button>

                                <!-- Back Button -->
                                <button onclick="goBackToEvents()" class="post-button text-white px-4 py-2 rounded-lg transition-colors flex items-center space-x-2">
                                    <i class="fas fa-arrow-left"></i>
                                    <span>Back to Events</span>
                                </button>
                            </section>
                        </section>
                    </section>
                </section>
            `;
        }

        // Footer Component
        function createFooter() {
            return `
    <footer class="custom-bg text-gray-800 py-12">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid md:grid-cols-5 gap-8">
                <div>
                    <h1 class="text-lg font-semibold mb-4 khmer-text">Organized By</h1>
                    <img src="../img-about/istad.png" alt="ISTAD Logo" class="w-20 h-15 mb-4">
                </div>

                <div>
                    <h1 class="text-lg font-semibold mb-4 khmer-text">Prepared By</h1>
                    <img src="../img-about/logo.png" alt="sportshub Logo" class="w-21 h-20 mb-4">
                </div>

                <nav>
                    <h3 class="text-lg font-semibold mb-4 khmer-text">Category</h3>
                    <ul class="space-y-2 text-[#000249] ">
                        <li><a href="#" class="hover:text-blue-600 transition-colors">Football</a></li>
                        <li><a href="#" class="hover:text-blue-600 transition-colors">Basketball</a></li>
                        <li><a href="#" class="hover:text-blue-600 transition-colors">Swimming</a></li>
                        <li><a href="#" class="hover:text-blue-600 transition-colors">Tennis</a></li>
                        <li><a href="#" class="hover:text-blue-600 transition-colors">Golf</a></li>
                    </ul>
                </nav>

                <nav>
                    <h3 class="text-lg font-semibold mb-4 khmer-text">Quick Links</h3>
                    <ul class="space-y-2 text-[#000249] ">
                        <li><a href="#" class="hover:text-blue-600 transition-colors">All News</a></li>
                        <li><a href="#" class="hover:text-blue-600 transition-colors">Event</a></li>
                        <li><a href="#" class="hover:text-blue-600 transition-colors">About Us</a></li>
                    </ul>
                </nav>

                <nav>
                    <h3 class="text-lg font-semibold mb-4">Connect With Us</h3>
                    <div class="flex space-x-4">
                        <a href="#" class="text-gray-600 hover:text-blue-600 transition-colors">
                            <i class="fab fa-facebook-f text-xl"></i>
                        </a>
                        <a href="#" class="text-gray-600 hover:text-blue-600 transition-colors">
                            <i class="fab fa-telegram text-xl"></i>
                        </a>
                        <a href="#" class="text-gray-600 hover:text-blue-600 transition-colors">
                            <i class="fab fa-instagram text-xl"></i>
                        </a>
                        <a href="#" class="text-gray-600 hover:text-blue-600 transition-colors">
                            <i class="fab fa-youtube text-xl"></i>
                        </a>
                    </div>
                </nav>
            </div>

            <div class="border-t border-gray-300 mt-8 pt-8 text-center">
                <p class="text-[#000249]  text-sm">© 2025 SportHub. All Rights Reserved.</p>
            </div>
        </div>
    </footer>
            `;
        }

        // Create comments
        function createComments() {
            const commentsHtml = commentsData.map(comment => `
                <section class="flex space-x-3">
                    <figure class="w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center">
                        <span class="text-white font-medium text-sm">${comment.avatar}</span>
                    </figure>
                    <section class="flex-1">
                        <section class="bg-gray-50 rounded-lg p-3">
                            <section class="flex items-center space-x-2 mb-1">
                                <span class="font-medium custom-text">${comment.name}</span>
                                <span class="text-xs text-gray-500">${comment.time}</span>
                            </section>
                            <p class="text-gray-700 text-sm">${comment.comment}</p>
                        </section>
                        <section class="flex items-center space-x-4 mt-2 text-sm text-gray-500">
                            <button class="hover:text-blue-600 transition-colors like-btn" onclick="likeComment(this)">
                                <i class="fas fa-thumbs-up mr-1"></i>
                                Like (<span class="like-count">${comment.likes}</span>)
                            </button>
                            <button class="hover:text-blue-600 transition-colors">Reply</button>
                        </section>
                    </section>
                </section>
            `).join('');

            document.getElementById('commentsContainer').innerHTML = commentsHtml;
        }

        // Navigation functions
        function goBackToEvents() {
            // Save current favorites back to localStorage
            localStorage.setItem('favoriteEvents', JSON.stringify(Array.from(favoriteEvents)));
            window.location.href = './event.html';
        }

        // Update favorite count in header
        function updateFavoriteCount() {
            const favoriteCount = document.getElementById('headerFavoriteCount');
            const count = favoriteEvents.size;
            if (count > 0) {
                favoriteCount.textContent = count;
                favoriteCount.classList.remove('hidden');
            } else {
                favoriteCount.classList.add('hidden');
            }
        }

        // Share functions
        function shareToFacebook() {
            const url = encodeURIComponent(window.location.href);
            const title = encodeURIComponent(currentEvent.title);
            window.open(`https://www.facebook.com/sharer/sharer.php?u=${url}&quote=${title}`, '_blank');
        }

        function shareToTelegram() {
            const url = encodeURIComponent(window.location.href);
            const text = encodeURIComponent(`${currentEvent.title} - ${currentEvent.location}`);
            window.open(`https://t.me/share/url?url=${url}&text=${text}`, '_blank');
        }

        function shareToInstagram() {
            // Instagram doesn't have direct URL sharing, so we'll copy to clipboard
            copyEventLink();
            alert('Event link copied! You can paste it in your Instagram post or story.');
        }

        function copyEventLink() {
            const eventLink = window.location.href;
            navigator.clipboard.writeText(eventLink).then(() => {
                alert('Event link copied to clipboard!');
            }).catch(() => {
                // Fallback for older browsers
                const textArea = document.createElement('textarea');
                textArea.value = eventLink;
                document.body.appendChild(textArea);
                textArea.select();
                document.execCommand('copy');
                document.body.removeChild(textArea);
                alert('Event link copied to clipboard!');
            });
        }

        // Interactive functions
        function toggleHeart(heartElement) {
            if (!currentEvent) return;

            if (favoriteEvents.has(currentEvent.id)) {
                favoriteEvents.delete(currentEvent.id);
                heartElement.classList.remove('text-red-500');
                heartElement.classList.add('text-gray-300');
            } else {
                favoriteEvents.add(currentEvent.id);
                heartElement.classList.add('text-red-500');
                heartElement.classList.remove('text-gray-300');
            }

            updateFavoriteCount();
            // Save to localStorage
            localStorage.setItem('favoriteEvents', JSON.stringify(Array.from(favoriteEvents)));
        }

        function likeComment(button) {
            const countSpan = button.querySelector('.like-count');
            const currentCount = parseInt(countSpan.textContent);
            countSpan.textContent = currentCount + 1;
            button.classList.add('text-blue-600');
            button.disabled = true;
        }

        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            // Inject header and footer
            document.getElementById('header').innerHTML = createHeader();
            document.getElementById('footer').innerHTML = createFooter();

            // Load event data
            loadEventData();

            // Create comments
            createComments();

            // Initialize interactive elements
            // Main heart button
            document.getElementById('mainHeartBtn').addEventListener('click', function() {
                toggleHeart(this);
            });

            // Header favorite button
            document.getElementById('headerFavoriteBtn').addEventListener('click', function() {
                goBackToEvents(); // Go back to events page when clicking header favorite
            });

            // Open map button
            document.getElementById('openMapBtn').addEventListener('click', function() {
                if (currentEvent.locationLink && currentEvent.locationLink.includes('maps.google.com')) {
                    // Convert embed URL to regular Google Maps URL
                    let mapUrl = currentEvent.locationLink;
                    if (mapUrl.includes('/embed')) {
                        // Extract coordinates or place info from embed URL
                        const urlParams = new URLSearchParams(mapUrl.split('?')[1]);
                        const pb = urlParams.get('pb');
                        if (pb) {
                            // Try to extract place name or coordinates
                            const matches = mapUrl.match(/!1s([^!]+)/);
                            if (matches) {
                                const placeName = decodeURIComponent(matches[1]);
                                mapUrl = `https://maps.google.com/search/${encodeURIComponent(placeName)}`;
                            } else {
                                mapUrl = `https://maps.google.com/search/${encodeURIComponent(currentEvent.location)}`;
                            }
                        }
                    }
                    window.open(mapUrl, '_blank');
                } else {
                    const encodedLocation = encodeURIComponent(currentEvent.location);
                    window.open(`https://maps.google.com/search/${encodedLocation}`, '_blank');
                }
            });

            // Post comment button
            document.getElementById('postCommentBtn').addEventListener('click', function() {
                const commentText = document.getElementById('commentText');
                if (commentText.value.trim()) {
                    // Create new comment
                    const newComment = {
                        name: "អ្នកប្រើប្រាស់",
                        avatar: "AP",
                        time: "ទើបតែ",
                        comment: commentText.value.trim(),
                        likes: 0,
                        liked: false
                    };

                    // Add to beginning of comments
                    commentsData.unshift(newComment);
                    createComments();
                    commentText.value = '';

                    // Show success message
                    const successMsg = document.createElement('div');
                    successMsg.className = 'fixed top-4 right-4 bg-green-500 text-white px-4 py-2 rounded-lg shadow-lg z-50';
                    successMsg.textContent = 'Comment posted successfully!';
                    document.body.appendChild(successMsg);

                    setTimeout(() => {
                        successMsg.remove();
                    }, 3000);
                } else {
                    alert('Please write a comment first.');
                }
            });

            // Handle keyboard shortcuts
            document.addEventListener('keydown', function(e) {
                // Escape key to go back
                if (e.key === 'Escape') {
                    goBackToEvents();
                }
                // Ctrl/Cmd + S to share
                if ((e.ctrlKey || e.metaKey) && e.key === 's') {
                    e.preventDefault();
                    copyEventLink();
                }
            });
        });
    </script>
</body>

</html>